<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tour Booking Management System</title>
    <link href="css/style.css" type="text/css" rel="stylesheet">
    <link href="css/manageBooking.css" type="text/css" rel="stylesheet">
</head>
<body>
	<img src='images/explorer.jpeg' />
    <!-- Header with navigation links -->
    <header>
        <h1 id="main-title" data-lang-key="title">Welcome to Our Tour Booking System</h1>
        <nav>
            <a href="#home" id="nav-home" data-lang-key="nav.home">Home</a>
            <a href="#tours" id="nav-tours" data-lang-key="nav.tours">Tours</a>
            <a href="pages/about.html" id="nav-about" data-lang-key="nav.about">About Us</a>
            <a href="pages/contact.html" id="nav-contact" data-lang-key="nav.contact">Contact</a>
            <a href="javascript:void(0);" id="nav-manageBooking" data-lang-key="nav.manageBooking" onclick="openManageBooking()">Manage Booking</a>
            <a href="pages/login.html" id="nav-login" data-lang-key="nav.login">Sign In/Up</a>
            <a href="pages/admin.html" id="nav-admin" data-lang-key="nav.admin">Admin</a>
        </nav>
    </header>

    <!-- Home section -->
    <section id="home">
        <h2 data-lang-key="sectionTitle">Your Adventure Awaits!</h2>
        <p data-lang-key="description">Explore a variety of tours and book your next adventure easily.</p>
    </section>

    <!-- Tours section with booking buttons -->
    <section id="tours">
        <h2 data-lang-key="tours.title">Available Tours</h2>
        <div class="tour">
			<img src="images/img1.jpg" alt="M훮ori Cultural Experience">
            <h3>M훮ori Cultural Experience</h3>
            <p>Immerse yourself in the rich culture of the M훮ori with this guided tour.</p>
            <p class="price"><strong>Price:</strong> $150</p>
            <p><strong>Duration:</strong> Half day</p>
            <button data-lang-key="tours.bookNow" onclick="openBookingForm('M훮ori Cultural Experience', 150)">Book Now</button>
        </div>
        <div class="tour">
			<img src="images/img2.jpg" alt="Scenic Nature Tour">
            <h3>Scenic Nature Tour</h3>
            <p>Enjoy breathtaking views on this scenic nature tour.</p>
            <p class="price"><strong>Price:</strong> $100</p>
            <p><strong>Duration:</strong> Half day</p>
            <button data-lang-key="tours.bookNow" onclick="openBookingForm('Scenic Nature Tour', 100)">Book Now</button>
        </div>
        <div class="tour">
			<img src="images/img3.jpg" alt="Christchurch and Canterbury Day Tour">
            <h3>Christchurch and Canterbury Day Tour</h3>
            <p>Visit the Botanic Gardens, the Antarctic Centre, and explore the Canterbury region.</p>
            <p class="price"><strong>Price:</strong> $120</p>
            <p><strong>Duration:</strong> Full day</p>
            <button data-lang-key="tours.bookNow" onclick="openBookingForm('Christchurch and Canterbury Day Tour', 120)">Book Now</button>
        </div>
        <div class="tour">
			<img src="images/img4.jpg" alt="Franz Josef Glacier Helicopter Tour">
            <h3>Franz Josef Glacier Helicopter Tour</h3>
            <p>Take a scenic helicopter flight over the glacier, landing on the ice for an unforgettable experience.</p>
            <p class="price"><strong>Price:</strong> $190</p>
            <p><strong>Duration:</strong> Approximately 1.5 hours</p>
            <button data-lang-key="tours.bookNow" onclick="openBookingForm('Franz Josef Glacier Helicopter Tour', 190)">Book Now</button>
        </div>
    </section>

    <!-- Booking Form Modal -->
    <div id="bookingFormModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close" onclick="closeBookingForm()">&times;</span>
            <h2 id="tourFormTitle" data-lang-key="tourForm.title">Booking Form</h2>
            <form id="tourForm">
                <fieldset>
                    <label for="tour-name" data-lang-key="tourForm.tourName">Tour Name:</label>
                    <input type="text" id="tour-name" name="tour-name" readonly><br><br>

                    <label for="name" data-lang-key="tourForm.name">Your Name:</label>
                    <input type="text" id="name" name="name" required><br><br>

                    <label for="email" data-lang-key="tourForm.email" >Email:</label>
                    <input type="email" id="email" name="email" required><br><br>

                    <label for="date" data-lang-key="tourForm.tourDate">Tour Date:</label>
                    <input type="date" id="date" name="date" required><br><br>

                    <input type="submit" data-lang-key="tourForm.submit" value="Submit Booking">
                </fieldset>
            </form>
        </div>
    </div>

    <!-- Manage Booking Modal -->
    <div id="manageBookingModal" class="modal" style="display:none;">
		<span class="close" onclick="closeManageBooking()">&times;</span>
		<h2 id="manageBookingTitle" data-lang-key="manageBooking.title">Manage Your Booking</h2>
		<div class="button-container">
			<!-- Booking Tour opens the same Booking Form Modal -->
			<button data-lang-key="manageBooking.bookingTour" onclick="closeManageBooking(); openBookingForm('Example Tour', 100)">Booking Tour</button>
			<button data-lang-key="manageBooking.cancelBooking" onclick="loadCancellationPage()">Cancel Booking</button>
		</div>
		<div class="cancel-btn-container">
			<button data-lang-key="manageBooking.cancel" class="cancel-btn" onclick="closeManageBooking()">Cancel</button>
		</div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Tour Booking Management System</p>
    </footer>

    <!-- JavaScript files -->
	<script src="js/language.js" type="module"></script>
	<script src="js/manageBooking.js" type="module"></script>
    <script src="js/script.js"></script>

    <!-- JavaScript functions -->
    <script>
        // Function to open the Manage Booking modal
        function openManageBooking() {
            const modal = document.getElementById("manageBookingModal");
            if (modal) {
                modal.style.display = "block";
                window.onclick = function(event) {
                    if (event.target === modal) {
                        closeManageBooking();
                    }
                };
            }
        }

        // Function to close the Manage Booking modal
        function closeManageBooking() {
            const modal = document.getElementById("manageBookingModal");
            if (modal) {
                modal.style.display = "none";
                window.onclick = null;
            }
        }

        // Function to open the booking form modal with selected tour details
        function openBookingForm(tourName, price) {
            const modal = document.getElementById("bookingFormModal");
            if (modal) {
                document.getElementById("tour-name").value = tourName;
                modal.style.display = "block";
                window.onclick = function(event) {
                    if (event.target === modal) {
                        closeBookingForm();
                    }
                };
            }
        }

        // Function to close the booking form modal
        function closeBookingForm() {
            const modal = document.getElementById("bookingFormModal");
            if (modal) {
                modal.style.display = "none";
                window.onclick = null;
            }
        }

        // Function to navigate to the cancellation page
        function loadCancellationPage() {
            window.location.href = 'pages/cancellation.html';
        }
    </script>
</body>
</html>
