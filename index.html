<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tour Booking Management System</title>
        <link href="style.css" type="text/css" rel="stylesheet">
    </head>
    <body>
        <img src='https://content.codecademy.com/courses/freelance-1/unit-2/explorer.jpeg' />
        <header>
            <h1>Welcome to Our Tour Booking System</h1>
            <nav>
                <a href="#home">Home</a>
                <a href="#tours">Tours</a>
                <a href="#about">About Us</a>
                <a href="#contact">Contact</a>
                <a href="#admin">Admin</a>
            </nav>
        </header>

        <section id="home">
            <h2>Your Adventure Awaits!</h2>
            <p>Explore a variety of tours and book your next adventure easily.</p>
        </section>

        <section id="tours">
            <h2>Available Tours</h2>
            <div class="tour">
                <h3>Māori Cultural Experience</h3>
                <p>Immerse yourself in the rich culture of the Māori with this guided tour.</p>
                <p><strong>Price:</strong> $150</p>
                <p><strong>Duration:</strong> Half day</p>
                <button onclick="openBookingForm('Māori Cultural Experience', 150)">Book Now</button>
            </div>
            <div class="tour">
                <h3>Scenic Nature Tour</h3>
                <p>Enjoy breathtaking views on this scenic nature tour.</p>
                <p><strong>Price:</strong> $100</p>
                <p><strong>Duration:</strong> Half day</p>
                <button onclick="openBookingForm('Scenic Nature Tour', 100)">Book Now</button>
            </div>
            <div class="tour">
                <h3>Christchurch and Canterbury Day Tour</h3>
                <p>Visit the Botanic Gardens, the Antarctic Centre, and explore the surrounding Canterbury region, including Akaroa or the Banks Peninsula.</p>
                <p><strong>Price:</strong> $120</p>
                <p><strong>Duration:</strong> Full day</p>
                <button onclick="openBookingForm('Christchurch and Canterbury Day Tour', 120)">Book Now</button>
            </div>
            <div class="tour">
                <h3>Franz Josef Glacier Helicopter Tour</h3>
                <p>Take a scenic helicopter flight over the glacier, landing on the ice for an unforgettable experience.</p>
                <p><strong>Price:</strong> $190</p>
                <p><strong>Duration:</strong> Approximately 1.5 hours</p>
                <button onclick="openBookingForm('Franz Josef Glacier Helicopter Tour', 190)">Book Now</button>
            </div>
            <!-- Add more tours as needed -->
        </section>

        <section id="booking-form" style="display:none;">
            <h2>Booking Form</h2>
            <form id="tourForm">
                <fieldset>
                    <legend>Book the Tour!!!</legend>
                    <label for="tour-name">Tour Name:</label>
                    <input type="text" id="tour-name" name="tour-name" readonly><br><br>

                    <label for="name">Your Name:</label>
                    <input type="text" id="name" name="name" required><br><br>

                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required><br><br>

                    <label for="date">Tour Date:</label>
                    <input type="date" id="date" name="date" required><br><br>

                    <input type="submit" value="Submit Booking">
                </fieldset>
            </form>
        </section>

        <footer>
            <p>&copy; 2024 Tour Booking Management System</p>
        </footer>

        <script>
            function openBookingForm(tourName, price) {
                document.getElementById('tour-name').value = tourName;
                document.getElementById('booking-form').style.display = 'block';
            }

            document.getElementById('tourForm').addEventListener('submit', async (e) => {
                e.preventDefault();

                const tour = document.getElementById('tour-name').value;
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const date = document.getElementById('date').value;
                const status = 1;

                const response = await fetch('http://localhost:3000/add-item', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ tour, name, email, date, status }),
                });

                if (response.ok) {
                    alert('Item added successfully!');
                    document.getElementById('tourForm').reset();
                } else {
                    const errorMessage = await response.text();
                    alert('Error adding item: ' + errorMessage);
                }
            });
        </script>




    </body>
</html>
